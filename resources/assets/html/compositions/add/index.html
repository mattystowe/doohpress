<div class="row">

  <div class="col-md-6 col-lg-6">
      <div class="card-box">
        <h4>Details</h4>

        <form class="form-horizontal m-t-20">


            <div class="form-group">
                <div class="col-12">
                    <input ng-model="vm.composition.name" id="composition_name" type="text" class="form-control" name="composition_name" placeholder="Name" required autofocus>

                </div>
            </div>

            <div class="form-group">
                <div class="col-12">
                    <textarea placeholder="Description" ng-model="vm.composition.description" class="form-control"></textarea>
                </div>
            </div>

            <div class="form-group">
                <div class="col-12">
                  <small>Select output type:</small>
                  <select ng-options="outputtype as outputtype.name for outputtype in vm.outputtypes" class="form-control" ng-model="vm.composition.outputtype">
                  </select>
                </div>
            </div>

            <div class="form-group">
                <div class="col-12">
                  <small>Select category:</small>
                  <select ng-options="compositioncategory as compositioncategory.name for compositioncategory in vm.compositioncategories" class="form-control" ng-model="vm.composition.compositioncategory">
                  </select>
                </div>
            </div>



        </form>



      </div>
  </div>

  <div class="col-md-6 col-lg-6">
      <div class="card-box">
        <h4>Frames</h4>
        <a ng-click="vm.openSelectAFrame();"><button class="btn btn-default" type="button">
          Add
        </button></a>

        <table class="table table-striped">
          <tr ng-repeat="frame in vm.composition.frames">
            <td>
              [{{frame.id}}] - {{frame.name}}
              <button ng-click="vm.removeFrame($index)" class="btn btn-xs btn-danger"><span class="fa fa-window-close"></span></button>
            </td>
          </tr>
        </table>

      </div>


      <div class="card-box">
        <h4>Images</h4>
        <small>Thumbnail</small>
        <imagepicker dimx="300" dimy="300" aspect="16/9" path="'/compositions/thumbnails/'" callback="vm.handleThumbnail(file);"></imagepicker>
        <img class="img img-responsive" src="{{vm.composition.thumbnail}}"/>
        <hr />
        <small>Main Image</small>
        <imagepicker dimx="600" dimy="600" aspect="16/9" path="'/compositions/images/'" callback="vm.handleImage(file);"></imagepicker>

        <img class="img img-responsive" src="{{vm.composition.image}}"/>

      </div>




  </div>




  <div id="selectFrameModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="selectFrameModal" aria-hidden="true" style="display: none;">
              <div class="modal-dialog">
                  <div class="modal-content">
                      <div class="modal-header">
                          <h4 class="modal-title mt-0" id="myModalLabel">Add frame to composition</h4>
                          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
                      </div>
                      <div class="modal-body">
                        <form class="form-horizontal m-t-20">

                          <div class="form-group">
                              <div class="col-12">
                                  <input ng-change="vm.searchFrames(vm.framesearch);" type="text" placeholder="Search frames" ng-model="vm.framesearch" class="form-control" />
                              </div>
                          </div>
                          <hr />
                          <div ng-repeat="frame in vm.frame_search_results">
                            [{{frame.id}}] {{frame.name}}
                            <button ng-click="vm.addFrameToComposition(frame);" class="btn btn-success waves-effect" type="button">Add</button>
                          </div>
                        </form>
                      </div>
                      <div class="modal-footer">
                          <button type="button" class="btn btn-secondary waves-effect" data-dismiss="modal">Close</button>
                      </div>
                  </div><!-- /.modal-content -->
              </div><!-- /.modal-dialog -->
          </div>



<!-- end row -->
</div>
