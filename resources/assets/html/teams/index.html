<div ng-controller="TeamsController as vm">



          <!-- Page-Title -->
          <div class="row">
              <div class="col-sm-12">
                  <div class="page-title-box">
                      <div class="btn-group pull-right">
                          <ol class="breadcrumb hide-phone p-0 m-0">
                              <li class="breadcrumb-item"><a href="#">User</a></li>
                              <li class="breadcrumb-item active">Teams</li>
                          </ol>
                      </div>
                      <h4 class="page-title">My Teams</h4>
                  </div>
              </div>
          </div>
          <!-- end page title end breadcrumb -->


          <div class="row">
              <div class="col-md-4 col-lg-3">
                  <div class="profile-detail card-box">

                    <div class="list-group b-0 mail-list">
                        <a ng-repeat="team in vm.Auth().currentUser().teams" class="list-group-item" ng-click="vm.changeTeam(team);">
                          <span>
                            <img src="{{team.profilepic}}" style="width:35px; height:35px;" class="rounded-circle">
                          {{team.name}}

                          <button class="btn btn-xs btn-default waves-effect waves-light">Settings</button>
                        </span>
                        </a>
                    </div>

                  </div>


              </div>


              <div class="col-lg-9 col-md-8">
                  <div class="card-box">
                    <h4>{{vm.Auth().currentTeam().name}}</h4>

                      <div class="col-md-4 col-lg-3">
                        <div class="profile-detail card-box">
                            <div>
                                <img ng-src="{{vm.Auth().currentTeam().profilepic}}" class="rounded-circle" alt="profile-image"><br>

                                <profilepicker callback="vm.handleProfilePicUpload(file);"></profilepicker>

                                <button class="btn btn-xs btn-warning">Leave team</button>
                            </div>


                        </div>
                      </div>

                      <hr>
                      <h4>Team members</h4>

                      <table class="table table-hover">
                        <tr>
                          <th>Name</th>
                          <th>Email</th>
                          <th>Role</th>
                          <th></th>
                        </tr>
                        <tr ng-repeat="teamMember in vm.teamMembers">
                          <td>{{teamMember.firstname}} {{teamMember.lastname}} <span ng-if="vm.userIsMyself(teamMember);" class="label label-success"> You</span></td>
                          <td>{{teamMember.email}}</td>
                          <td>
                            <select class="form-control" ng-change="vm.changeUserRole(teamMember.id, vm.getCurrentTeam().id, teamMember.role.id)" ng-model="teamMember.role.id" ng-options="role.id as role.name for role in vm.Auth().availableRoles()"></select>
                          </td>
                          <td>
                            <button ng-if="!vm.userIsMyself(teamMember);" class="btn btn-xs btn-danger"><span class="fa fa-window-close"></span></button>

                          </td>
                        </tr>
                      </table>

                  </div>



              </div>

          </div>


</div>
